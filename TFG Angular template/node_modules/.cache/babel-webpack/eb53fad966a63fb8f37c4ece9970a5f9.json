{"ast":null,"code":"'use strict';\n\nvar Message = function Message() {\n  this.rsv1 = false;\n  this.rsv2 = false;\n  this.rsv3 = false;\n  this.opcode = null;\n  this.length = 0;\n  this._chunks = [];\n};\n\nvar instance = {\n  read: function read() {\n    if (this.data) return this.data;\n    this.data = new Buffer(this.length);\n    var offset = 0;\n\n    for (var i = 0, n = this._chunks.length; i < n; i++) {\n      this._chunks[i].copy(this.data, offset);\n\n      offset += this._chunks[i].length;\n    }\n\n    return this.data;\n  },\n  pushFrame: function pushFrame(frame) {\n    this.rsv1 = this.rsv1 || frame.rsv1;\n    this.rsv2 = this.rsv2 || frame.rsv2;\n    this.rsv3 = this.rsv3 || frame.rsv3;\n    if (this.opcode === null) this.opcode = frame.opcode;\n\n    this._chunks.push(frame.payload);\n\n    this.length += frame.length;\n  }\n};\n\nfor (var key in instance) {\n  Message.prototype[key] = instance[key];\n}\n\nmodule.exports = Message;","map":{"version":3,"sources":["/home/juanma/Documentos/TecladoVirtual/TFG Angular template/node_modules/websocket-driver/lib/websocket/driver/hybi/message.js"],"names":["Message","rsv1","rsv2","rsv3","opcode","length","_chunks","instance","read","data","Buffer","offset","i","n","copy","pushFrame","frame","push","payload","key","prototype","module","exports"],"mappings":"AAAA;;AAEA,IAAIA,OAAO,GAAG,SAAVA,OAAU,GAAW;AACvB,OAAKC,IAAL,GAAe,KAAf;AACA,OAAKC,IAAL,GAAe,KAAf;AACA,OAAKC,IAAL,GAAe,KAAf;AACA,OAAKC,MAAL,GAAe,IAAf;AACA,OAAKC,MAAL,GAAe,CAAf;AACA,OAAKC,OAAL,GAAe,EAAf;AACD,CAPD;;AASA,IAAIC,QAAQ,GAAG;AACbC,EAAAA,IAAI,EAAE,gBAAW;AACf,QAAI,KAAKC,IAAT,EAAe,OAAO,KAAKA,IAAZ;AAEf,SAAKA,IAAL,GAAa,IAAIC,MAAJ,CAAW,KAAKL,MAAhB,CAAb;AACA,QAAIM,MAAM,GAAG,CAAb;;AAEA,SAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAG,KAAKP,OAAL,CAAaD,MAAjC,EAAyCO,CAAC,GAAGC,CAA7C,EAAgDD,CAAC,EAAjD,EAAqD;AACnD,WAAKN,OAAL,CAAaM,CAAb,EAAgBE,IAAhB,CAAqB,KAAKL,IAA1B,EAAgCE,MAAhC;;AACAA,MAAAA,MAAM,IAAI,KAAKL,OAAL,CAAaM,CAAb,EAAgBP,MAA1B;AACD;;AACD,WAAO,KAAKI,IAAZ;AACD,GAZY;AAcbM,EAAAA,SAAS,EAAE,mBAASC,KAAT,EAAgB;AACzB,SAAKf,IAAL,GAAY,KAAKA,IAAL,IAAae,KAAK,CAACf,IAA/B;AACA,SAAKC,IAAL,GAAY,KAAKA,IAAL,IAAac,KAAK,CAACd,IAA/B;AACA,SAAKC,IAAL,GAAY,KAAKA,IAAL,IAAaa,KAAK,CAACb,IAA/B;AAEA,QAAI,KAAKC,MAAL,KAAgB,IAApB,EAA0B,KAAKA,MAAL,GAAcY,KAAK,CAACZ,MAApB;;AAE1B,SAAKE,OAAL,CAAaW,IAAb,CAAkBD,KAAK,CAACE,OAAxB;;AACA,SAAKb,MAAL,IAAeW,KAAK,CAACX,MAArB;AACD;AAvBY,CAAf;;AA0BA,KAAK,IAAIc,GAAT,IAAgBZ,QAAhB;AACEP,EAAAA,OAAO,CAACoB,SAAR,CAAkBD,GAAlB,IAAyBZ,QAAQ,CAACY,GAAD,CAAjC;AADF;;AAGAE,MAAM,CAACC,OAAP,GAAiBtB,OAAjB","sourcesContent":["'use strict';\n\nvar Message = function() {\n  this.rsv1    = false;\n  this.rsv2    = false;\n  this.rsv3    = false;\n  this.opcode  = null\n  this.length  = 0;\n  this._chunks = [];\n};\n\nvar instance = {\n  read: function() {\n    if (this.data) return this.data;\n\n    this.data  = new Buffer(this.length);\n    var offset = 0;\n\n    for (var i = 0, n = this._chunks.length; i < n; i++) {\n      this._chunks[i].copy(this.data, offset);\n      offset += this._chunks[i].length;\n    }\n    return this.data;\n  },\n\n  pushFrame: function(frame) {\n    this.rsv1 = this.rsv1 || frame.rsv1;\n    this.rsv2 = this.rsv2 || frame.rsv2;\n    this.rsv3 = this.rsv3 || frame.rsv3;\n\n    if (this.opcode === null) this.opcode = frame.opcode;\n\n    this._chunks.push(frame.payload);\n    this.length += frame.length;\n  }\n};\n\nfor (var key in instance)\n  Message.prototype[key] = instance[key];\n\nmodule.exports = Message;\n"]},"metadata":{},"sourceType":"script"}